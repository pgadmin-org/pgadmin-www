RewriteEngine On

# Rewrite requests for documentation images. On developer.pgadmin.org, the following works
# nicely, but for reasons unknown it's totally borked on ferengi.postgresql.org.
# RewriteRule ^docs/dev/(.*)\.(png|jpg|gif)$ /svnrepo/pgadmin3/docs/en_US/$1\.$2 [QSA,L]

RewriteRule ^docs/dev/(.*)\.gif$ /svnrepo/pgadmin3/docs/en_US/$1\.gif [QSA,L]
RewriteRule ^docs/dev/(.*)\.jpg$ /svnrepo/pgadmin3/docs/en_US/$1\.jpg [QSA,L]
RewriteRule ^docs/dev/(.*)\.png$ /svnrepo/pgadmin3/docs/en_US/$1\.png [QSA,L]

RewriteRule ^docs/1\.4/(.*)\.gif$ /svnrepo/pgadmin3-1\.4/docs/en_US/$1\.gif [QSA,L]
RewriteRule ^docs/1\.4/(.*)\.jpg$ /svnrepo/pgadmin3-1\.4/docs/en_US/$1\.jpg [QSA,L]
RewriteRule ^docs/1\.4/(.*)\.png$ /svnrepo/pgadmin3-1\.4/docs/en_US/$1\.png [QSA,L]

# Requests like /docs/xx/yy need to be rewritten to /include/page.php?docset=xx&docpage=yy
RewriteRule ^docs/(.[a-zA-Z0-9.]*)/(.*)$ /include/page.php?docset=$1&docpage=$2 [QSA,L]
